### YamlMime:PythonClass
uid: msal.application.PublicClientApplication
name: PublicClientApplication
fullName: msal.application.PublicClientApplication
module: msal.application
inheritances:
- msal.application.ClientApplication
summary: "Same as <xref:ClientApplication.__init__>,\nexcept that `client_credential`\
  \ parameter shall remain `None`.\n\n> [!NOTE]\n> You may set enable_broker_on_windows\
  \ to True.\n>\n> \n>\n> What is a broker, and why use it?\n>\n> \n>\n> A broker\
  \ is a component installed on your device.\n>\n> Broker implicitly gives your device\
  \ an identity. By using a broker,\n>\n> your device becomes a factor that can satisfy\
  \ MFA (Multi-factor authentication).\n>\n> This factor would become mandatory\n\
  >\n> if a tenant's admin enables a corresponding Conditional Access (CA) policy.\n\
  >\n> The broker's presence allows Microsoft identity platform\n>\n> to have higher\
  \ confidence that the tokens are being issued to your device,\n>\n> and that is\
  \ more secure.\n>\n> \n>\n> An additional benefit of broker is,\n>\n> it runs as\
  \ a long-lived process with your device's OS,\n>\n> and maintains its own cache,\n\
  >\n> so that your broker-enabled apps (even a CLI)\n>\n> could automatically SSO\
  \ from a previously established signed-in session.\n>\n> \n>\n> You shall only enable\
  \ broker when your app:\n>\n> \n>\n> is running on supported platforms,\n>\n> and\
  \ already registered their corresponding redirect_uri\n>\n> \n>\n> ms-appx-web://Microsoft.AAD.BrokerPlugin/your_client_id\n\
  >\n> if your app is expected to run on Windows 10+\n>\n> \n>\n> installed broker\
  \ dependency,\n>\n> e.g. pip install msal[broker]>=1.25,<2.\n>\n> \n>\n> tested\
  \ with acquire_token_interactive() and acquire_token_silent().\n>\n> \n>\n> The\
  \ fallback behaviors of MSAL Python's broker support\n>\n> \n>\n> MSAL will either\
  \ error out, or silently fallback to non-broker flows.\n>\n> \n>\n> MSAL will ignore\
  \ the enable_broker_... and bypass broker\n>\n> on those auth flows that are known\
  \ to be NOT supported by broker.\n>\n> This includes ADFS, B2C, etc..\n>\n> For\
  \ other \"could-use-broker\" scenarios, please see below.\n>\n> \n>\n> MSAL errors\
  \ out when app developer opted-in to use broker\n>\n> but a direct dependency \"\
  mid-tier\" package is not installed.\n>\n> Error message guides app developer to\
  \ declare the correct dependency\n>\n> msal[broker].\n>\n> We error out here because\
  \ the error is actionable to app developers.\n>\n> \n>\n> MSAL silently \"deactivates\"\
  \ the broker and fallback to non-broker,\n>\n> when opted-in, dependency installed\
  \ yet failed to initialize.\n>\n> We anticipate this would happen on a device whose\
  \ OS is too old\n>\n> or the underlying broker component is somehow unavailable.\n\
  >\n> There is not much an app developer or the end user can do here.\n>\n> Eventually,\
  \ the conditional access policy shall\n>\n> force the user to switch to a different\
  \ device.\n>\n> \n>\n> MSAL errors out when broker is opted in, installed, initialized,\n\
  >\n> but subsequent token request(s) failed.\n>"
constructor:
  syntax: PublicClientApplication(client_id, client_credential=None, **kwargs)
  parameters:
  - name: enable_broker_on_windows
    description: 'This setting is only effective if your app is running on Windows
      10+.

      This parameter defaults to None, which means MSAL will not utilize a broker.


      New in MSAL Python 1.25.0.'
    isRequired: true
    types:
    - <xref:boolean>
  - name: client_id
    isRequired: true
  - name: client_credential
    defaultValue: None
methods:
- uid: msal.application.PublicClientApplication.acquire_token_by_device_flow
  name: acquire_token_by_device_flow
  summary: Obtain token by a device flow object, with customizable polling effect.
  signature: acquire_token_by_device_flow(flow, claims_challenge=None, **kwargs)
  parameters:
  - name: flow
    description: 'A dict previously generated by <xref:msal.application.PublicClientApplication.initiate_device_flow>.

      By default, this method''s polling effect  will block current thread.

      You can abort the polling loop at any time,

      by changing the value of the flow''s "expires_at" key to 0.'
    isRequired: true
    types:
    - <xref:dict>
  - name: claims_challenge
    description: 'The claims_challenge parameter requests specific claims requested
      by the resource provider

      in the form of a claims_challenge directive in the www-authenticate header to
      be

      returned from the UserInfo Endpoint and/or in the ID Token and/or Access Token.

      It is a string of a JSON object which contains lists of claims being requested
      from these locations.'
    defaultValue: None
  return:
    description: "A dict representing the json response from Microsoft Entra:\n\n\
      * A successful response would contain \"access_token\" key, \n\n* an error response\
      \ would contain \"error\" and usually \"error_description\"."
- uid: msal.application.PublicClientApplication.acquire_token_interactive
  name: acquire_token_interactive
  summary: 'Acquire token interactively i.e. via a local browser.


    Prerequisite: In Azure Portal, configure the Redirect URI of your

    "Mobile and Desktop application" as `http://localhost`.

    If you opts in to use broker during `PublicClientApplication` creation,

    your app also need this Redirect URI:

    `ms-appx-web://Microsoft.AAD.BrokerPlugin/YOUR_CLIENT_ID`'
  signature: acquire_token_interactive(scopes, prompt=None, login_hint=None, domain_hint=None,
    claims_challenge=None, timeout=None, port=None, extra_scopes_to_consent=None,
    max_age=None, parent_window_handle=None, on_before_launching_ui=None, auth_scheme=None,
    **kwargs)
  parameters:
  - name: scopes
    description: It is a list of case-sensitive strings.
    isRequired: true
    types:
    - <xref:list>
  - name: prompt
    description: 'By default, no prompt value will be sent, not even string `"none"`.

      You will have to specify a value explicitly.

      Its valid values are the constants defined in

      <xref:msal.Prompt>.'
    defaultValue: None
    types:
    - <xref:str>
  - name: login_hint
    description: Optional. Identifier of the user. Generally a User Principal Name
      (UPN).
    defaultValue: None
    types:
    - <xref:str>
  - name: domain_hint
    description: 'Can be one of "consumers" or "organizations" or your tenant domain
      "contoso.com".

      If included, it will skip the email-based discovery process that user goes

      through on the sign-in page, leading to a slightly more streamlined user experience.

      More information on possible values available in

      [Auth Code Flow doc](https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-authorization-code)
      and

      [domain_hint doc](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-oapx/86fb452d-e34a-494e-ac61-e526e263b6d8).'
    defaultValue: None
  - name: claims_challenge
    description: 'The claims_challenge parameter requests specific claims requested
      by the resource provider

      in the form of a claims_challenge directive in the www-authenticate header to
      be

      returned from the UserInfo Endpoint and/or in the ID Token and/or Access Token.

      It is a string of a JSON object which contains lists of claims being requested
      from these locations.'
    defaultValue: None
  - name: timeout
    description: 'This method will block the current thread.

      This parameter specifies the timeout value in seconds.

      Default value `None` means wait indefinitely.'
    defaultValue: None
    types:
    - <xref:int>
  - name: port
    description: 'The port to be used to listen to an incoming auth response.

      By default we will use a system-allocated port.

      (The rest of the redirect_uri is hard coded as `http://localhost`.)'
    defaultValue: None
    types:
    - <xref:int>
  - name: extra_scopes_to_consent
    description: '"Extra scopes to consent" is a concept only available in Microsoft
      Entra.

      It refers to other resources you might want to prompt to consent for,

      in the same interaction, but for which you won''t get back a

      token for in this particular operation.'
    defaultValue: None
    types:
    - <xref:list>
  - name: max_age
    description: 'OPTIONAL. Maximum Authentication Age.

      Specifies the allowable elapsed time in seconds

      since the last time the End-User was actively authenticated.

      If the elapsed time is greater than this value,

      Microsoft identity platform will actively re-authenticate the End-User.


      MSAL Python will also automatically validate the auth_time in ID token.


      New in version 1.15.'
    defaultValue: None
    types:
    - <xref:int>
  - name: parent_window_handle
    description: 'Required if your app is running on Windows and opted in to use broker.


      If your app is a GUI app,

      you are recommended to also provide its window handle,

      so that the sign in UI window will properly pop up on top of your window.


      If your app is a console app (most Python scripts are console apps),

      you can use a placeholder value `msal.PublicClientApplication.CONSOLE_WINDOW_HANDLE`.


      New in version 1.20.0.'
    defaultValue: None
    types:
    - <xref:int>
  - name: on_before_launching_ui
    description: 'A callback with the form of

      `lambda ui="xyz", **kwargs: print("A {} will be launched".format(ui))`,

      where `ui` will be either "browser" or "broker".

      You can use it to inform your end user to expect a pop-up window.


      New in version 1.20.0.'
    defaultValue: None
    types:
    - <xref:function>
  - name: auth_scheme
    description: 'You can provide an `msal.auth_scheme.PopAuthScheme` object

      so that MSAL will get a Proof-of-Possession (POP) token for you.


      New in version 1.26.0.'
    defaultValue: None
    types:
    - <xref:object>
  return:
    description: "* A dict containing no \"error\" key, and typically contains an\
      \ \"access_token\" key. \n\n* A dict containing an \"error\" key, when token\
      \ refresh failed."
- uid: msal.application.PublicClientApplication.initiate_device_flow
  name: initiate_device_flow
  summary: 'Initiate a Device Flow instance,

    which will be used in <xref:msal.application.PublicClientApplication.acquire_token_by_device_flow>.'
  signature: initiate_device_flow(scopes=None, **kwargs)
  parameters:
  - name: scopes
    description: Scopes requested to access a protected API (a resource).
    defaultValue: None
    types:
    - <xref:list>[<xref:str>]
  return:
    description: "A dict representing a newly created Device Flow object.\n\n* A successful\
      \ response would contain \"user_code\" key, among others \n\n* an error response\
      \ would contain some other readable key/value pairs."
attributes:
- uid: msal.application.PublicClientApplication.CONSOLE_WINDOW_HANDLE
  name: CONSOLE_WINDOW_HANDLE
  signature: CONSOLE_WINDOW_HANDLE = <object object>
- uid: msal.application.PublicClientApplication.DEVICE_FLOW_CORRELATION_ID
  name: DEVICE_FLOW_CORRELATION_ID
  signature: DEVICE_FLOW_CORRELATION_ID = '_correlation_id'
